<% content_for :title, "Orders" %>

<div class="w-full">
  <% if notice.present? %>
    <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-md inline-block" id="notice"><%= notice %></p>
  <% end %>

  <div class="flex justify-between items-center">
    <h1 class="font-bold text-4xl">Orders</h1>
    <%= link_to "New order", new_admin_order_path, class: "rounded-md px-3.5 py-2.5 bg-blue-600 hover:bg-blue-500 text-white block font-medium" %>
  </div>

  <h2 class="font-bold text-2xl">Unfunfilled Orders</h2>

  <div class="bg-white rounded-lg shadow">
    <table class="min-w-full">
      <thead>
        <tr class="border-b">
          <th class="px-6 py-3 text-left text-sm font-semibold text-gray-700">ID</th>
          <th class="px-6 py-3 text-left text-sm font-semibold text-gray-700">Email</th>
          <th class="px-6 py-3 text-left text-sm font-semibold text-gray-700">Address</th>
          <th class="px-6 py-3 text-left text-sm font-semibold text-gray-700">Total</th>
          <th class="px-6 py-3 text-left text-sm font-semibold text-gray-700">Actions</th>
        </tr>
      </thead>
      <tbody class="divide-y divide-gray-200">
        <% @not_fullfiled_orders.each do |order| %>
          <tr>
            <td class="px-6 py-4 text-sm text-gray-800"><%= link_to order.id, [:admin, order], class: "underline" %></td>
            <td class="px-6 py-4 text-sm text-gray-800"><%= order.customer_email %></td>
            <td class="px-6 py-4 text-sm text-gray-600"><%= order.address %></td>
            <td class="px-6 py-4 text-sm text-gray-600"><%= order.total %></td>
            <td class="px-6 py-4 text-sm">
              <div class="flex space-x-2">
                <%= link_to 'Edit', edit_admin_order_path(order), 
                    class: 'rounded-md px-3.5 py-2.5 text-white bg-[#FF9119] hover:bg-[#FF9119]/80 text-white block font-medium' %>
                <%= link_to 'Delete', admin_order_path(order), 
                    method: :delete, 
                    data: { confirm: 'Are you sure?' }, 
                    class: 'rounded-md px-3.5 py-2.5 bg-red-600 hover:bg-red-500 text-white block font-medium' %>
              </div>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>

  <h2 class="font-bold text-2xl">Fullfilled Orders</h2>

  <div class="bg-white rounded-lg shadow">
    <table class="min-w-full">
      <thead>
        <tr class="border-b">
          <th class="px-6 py-3 text-left text-sm font-semibold text-gray-700">ID</th>
          <th class="px-6 py-3 text-left text-sm font-semibold text-gray-700">Email</th>
          <th class="px-6 py-3 text-left text-sm font-semibold text-gray-700">Address</th>
          <th class="px-6 py-3 text-left text-sm font-semibold text-gray-700">Total</th>
          <th class="px-6 py-3 text-left text-sm font-semibold text-gray-700">Actions</th>
        </tr>
      </thead>
      <tbody class="divide-y divide-gray-200">
        <% @fullfiled_orders.each do |order| %>
          <tr>
            <td class="px-6 py-4 text-sm text-gray-800"><%= link_to order.id, [:admin, order], class: "underline" %></td>
            <td class="px-6 py-4 text-sm text-gray-800"><%= order.customer_email %></td>
            <td class="px-6 py-4 text-sm text-gray-600"><%= order.address %></td>
            <td class="px-6 py-4 text-sm text-gray-600"><%= order.total %></td>
            <td class="px-6 py-4 text-sm">
              <div class="flex space-x-2">
                <%= link_to 'Edit', edit_admin_order_path(order), 
                    class: 'rounded-md px-3.5 py-2.5 text-white bg-[#FF9119] hover:bg-[#FF9119]/80 text-white block font-medium' %>
                <%= link_to 'Delete', admin_order_path(order), 
                    method: :delete, 
                    data: { confirm: 'Deseja deletar a ordem?' }, 
                    class: 'rounded-md px-3.5 py-2.5 bg-red-600 hover:bg-red-500 text-white block font-medium' %>
              </div>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>

</div>
